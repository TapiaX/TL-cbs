Module("pp",[Imports([Import("libstratego-gpp"),Import("libspoofax/sdf/pp"),ImportWildcard("libspoofax/editor/refactoring"),Import("pp/TL-parenthesize"),Import("pp/TL-pp")]),Rules([SDefT("editor-format",[],[],SRule(Rule(NoAnnoList(Tuple([Var("node"),Wld,Var("ast"),Var("path"),Var("project-path")])),NoAnnoList(Tuple([Var("filename"),Var("result")])),[WithClause(Seq(Assign(Var("ext"),App(CallT(SVar("get-extension"),[],[]),Var("path"))),Seq(Assign(Var("filename"),App(CallT(SVar("guarantee-extension"),[],[NoAnnoList(StringQuotation1("                                          ",[QStr("pp."),StringEscape1("                                             ",Var("ext"))]))]),Var("path"))),Assign(Var("result"),App(CallT(SVar("pp-debug"),[],[]),Var("node"))))))])))]),Rules([SDefT("pp-TL-string",[],[],Seq(CallT(SVar("parenthesize-TL"),[],[]),Seq(CallT(SVar("prettyprint-TL-start-symbols"),[],[]),Seq(Build(NoAnnoList(Op("V",[NoAnnoList(List([])),RootApp(Id)]))),CallT(SVar("box2text-string"),[],[NoAnnoList(Int("120"))]))))),SDefT("pp-partial-TL-string",[],[],Seq(CallT(SVar("parenthesize-TL"),[],[]),Seq(CallT(SVar("prettyprint-TL"),[],[]),Seq(Build(NoAnnoList(Op("V",[NoAnnoList(List([])),RootApp(Id)]))),CallT(SVar("box2text-string"),[],[NoAnnoList(Int("120"))]))))),SDefT("pp-partial-TL-string",[],[VarDec("sort",ConstType(SortNoArgs("ATerm")))],Seq(CallT(SVar("parenthesize-TL"),[],[]),Seq(CallT(SVar("prettyprint-TL"),[],[Var("sort")]),Seq(Build(NoAnnoList(Op("V",[NoAnnoList(List([])),RootApp(Id)]))),CallT(SVar("box2text-string"),[],[NoAnnoList(Int("120"))]))))),SDefT("pp-debug",[],[],SRule(Rule(Var("ast"),Var("result"),[WithClause(GuardedLChoice(Assign(Var("result"),App(CallT(SVar("pp-TL-string"),[],[]),Var("ast"))),Id,Seq(BA(CallT(SVar("bottomup"),[CallT(SVar("try"),[Seq(Not(CallT(SVar("is-string"),[],[])),Seq(Not(CallT(SVar("is-list"),[],[])),Seq(Not(CallT(SVar("pp-TL-string"),[],[])),CallT(SVar("debug"),[Build(NoAnnoList(Str("\"cannot pp \"")))],[]))))],[])],[]),Var("ast")),Assign(Var("result"),NoAnnoList(Str("\"\""))))))])))]),Rules([SDefT("construct-textual-change",[],[],CallT(SVar("construct-textual-change"),[CallT(SVar("pp-partial-TL-string"),[],[]),CallT(SVar("parenthesize"),[],[]),CallT(SVar("override-reconstruction"),[],[]),CallT(SVar("resugar"),[],[])],[]))])])