Module("nabl2/runtime/transform/explicit-types",[Imports([Import("libspoofax/term/annotation"),ImportWildcard("nabl2/runtime/transform")]),Signature([Constructors([OpDecl("NaBL2Type",FunType([ConstType(SortNoArgs("Term"))],ConstType(SortNoArgs("Annotation")))),OpDecl("NaBL2Prop",FunType([ConstType(SortNoArgs("Term")),ConstType(SortNoArgs("Term"))],ConstType(SortNoArgs("Annotation"))))])]),Rules([SDefT("nabl2-add-anno-types",[],[DefaultVarDec("a")],Call(SVar("topdown"),[Call(SVar("try"),[CallT(SVar("nabl2--add-anno-type"),[],[Var("a")])])])),RDefT("nabl2--add-anno-type",[],[DefaultVarDec("a")],Rule(Var("t"),App(CallT(SVar("nabl2-set-anno-type"),[],[Var("ty")]),Var("t")),Assign(Var("ty"),App(CallT(SVar("nabl2--get-ast-type"),[],[Var("a")]),Var("t"))))),SDefNoArgs("nabl2-remove-anno-type",Call(SVar("remove-annotations"),[Match(NoAnnoList(Op("NaBL2Type",[Wld])))])),SDefT("nabl2-set-anno-type",[],[DefaultVarDec("ty")],CallT(SVar("replace-annotation"),[Match(NoAnnoList(Op("NaBL2Type",[Wld])))],[NoAnnoList(Op("NaBL2Type",[Var("ty")]))])),SDefNoArgs("nabl2-get-anno-type",Call(SVar("get-annotation"),[Match(NoAnnoList(Op("NaBL2Type",[RootApp(Id)])))])),SDefT("nabl2-copy-anno-type",[],[DefaultVarDec("t")],GuardedLChoice(Where(Assign(Var("ty"),App(CallNoArgs(SVar("nabl2-get-anno-type")),Var("t")))),CallT(SVar("nabl2-set-anno-type"),[],[Var("ty")]),Id)),SDef("nabl2-preserve-anno-type",[DefaultVarDec("s")],Seq(Match(Var("t")),Seq(CallNoArgs(SVar("s")),CallT(SVar("nabl2-copy-anno-type"),[],[Var("t")]))))])])