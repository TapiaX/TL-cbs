Module("nabl2/shared/ast",[Imports([Import("libspoofax/term/origin"),ImportWildcard("signatures/nabl2/shared/common")]),Rules([SDefT("nabl2--index-ast",[],[DefaultVarDec("source")],Prim("\"SG_index_ast\"",[Var("source")])),SDefNoArgs("nabl2--get-ast-index",Seq(Match(Var("t")),Seq(PrimNoArgs("\"SG_get_ast_index\""),Call(SVar("try"),[CallT(SVar("nabl2--copy-origin"),[],[Var("t")])])))),SDefT("nabl2--set-ast-index",[],[DefaultVarDec("index")],Prim("\"SG_set_ast_index\"",[Var("index")])),SDefT("nabl2--copy-ast-index",[],[DefaultVarDec("from")],CallT(SVar("nabl2--set-ast-index"),[],[App(CallNoArgs(SVar("nabl2--get-ast-index")),Var("from"))])),SDef("nabl2--preserve-ast-index",[DefaultVarDec("s")],Seq(Match(Var("t")),Seq(CallNoArgs(SVar("s")),Call(SVar("try"),[CallT(SVar("nabl2--copy-ast-index"),[],[Var("t")])])))),SDefNoArgs("nabl2--erase-ast-indices",PrimNoArgs("\"SG_erase_ast_indices\""))]),Rules([SDefT("nabl2--copy-origin",[],[DefaultVarDec("from")],CallT(SVar("origin-location-offset-set"),[],[App(CallNoArgs(SVar("origin-location-offset")),Var("from"))])),SDef("nabl2--preserve-origin",[DefaultVarDec("s")],Seq(Match(Var("t")),Seq(CallNoArgs(SVar("s")),CallT(SVar("nabl2--copy-origin"),[],[Var("t")]))))])])