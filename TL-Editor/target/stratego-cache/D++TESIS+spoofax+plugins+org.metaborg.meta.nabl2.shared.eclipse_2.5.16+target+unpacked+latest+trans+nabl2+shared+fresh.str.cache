Module("nabl2/shared/fresh",[Rules([SDef("nabl2--with-fresh",[DefaultVarDec("s")],Call(SVar("nabl2--with-fresh"),[Build(NoAnnoList(Str("\"\""))),CallNoArgs(SVar("s"))])),SDef("nabl2--with-fresh",[DefaultVarDec("sep"),DefaultVarDec("s")],Seq(Match(Var("t")),DynRuleScope([DynRuleScopeId("NaBL2Sep"),DynRuleScopeId("NaBL2Fresh")],Seq(Where(Seq(Assign(Var("sep"),RootApp(CallNoArgs(SVar("sep")))),GenDynRules([SetDynRule(DynRuleId(RDecNoArgs("NaBL2Sep")),RuleNoCond(Wld,Var("sep")))]))),CallNoArgs(SVar("s")))))),RDefNoArgs("nabl2--fresh",Rule(Var("n"),App(CallNoArgs(SVar("nabl2--fresh")),Var("n")),[WhereClause(Not(BA(CallNoArgs(SVar("NaBL2Fresh")),Var("n")))),WithClause(Seq(Assign(Var("c"),RootApp(CallNoArgs(SVar("new-counter")))),GenDynRules([SetDynRule(DynRuleId(RDecNoArgs("NaBL2Fresh")),RuleNoCond(Var("n"),Var("c")))])))])),RDefNoArgs("nabl2--fresh",Rule(Var("n"),NoAnnoList(StringQuotation1("                       ",[StringEscape1("                       ",Var("n")),StringEscape1("                          ",RootApp(CallNoArgs(SVar("NaBL2Sep")))),StringEscape1("                                      ",App(CallNoArgs(SVar("int-to-string")),Var("i")))])),[WhereClause(Assign(Var("c"),App(CallNoArgs(SVar("NaBL2Fresh")),Var("n")))),WithClause(Assign(Var("i"),App(CallNoArgs(SVar("next-counter")),Var("c"))))]))])])