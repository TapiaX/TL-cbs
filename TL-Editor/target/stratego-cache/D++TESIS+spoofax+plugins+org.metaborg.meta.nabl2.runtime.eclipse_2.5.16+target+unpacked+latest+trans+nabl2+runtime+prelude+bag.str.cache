Module("nabl2/runtime/prelude/bag",[Imports([Import("nabl2/runtime/prelude/map")]),Strategies([RDefT("nabl2--bag-add",[],[DefaultVarDec("x")],Rule(NoAnnoList(ListTail([NoAnnoList(Tuple([Var("y"),Var("ys")]))],Var("tl"))),NoAnnoList(ListTail([NoAnnoList(Tuple([Var("y"),NoAnnoList(ListTail([Var("x")],Var("ys")))]))],Var("tl"))),BA(CallNoArgs(SVar("eq")),NoAnnoList(Tuple([Var("x"),Var("y")]))))),RDefT("nabl2--bag-add",[],[DefaultVarDec("x")],Rule(NoAnnoList(ListTail([NoAnnoList(Tuple([Var("y"),Var("ys")]))],Var("tl"))),NoAnnoList(ListTail([NoAnnoList(Tuple([Var("y"),Var("ys")]))],App(CallT(SVar("nabl2--bag-add"),[],[Var("x")]),Var("tl")))),BA(Not(CallNoArgs(SVar("eq"))),NoAnnoList(Tuple([Var("x"),Var("y")]))))),RDefT("nabl2--bag-add",[],[DefaultVarDec("x")],RuleNoCond(NoAnnoList(List([])),NoAnnoList(List([NoAnnoList(Tuple([Var("x"),NoAnnoList(List([Var("x")]))]))])))),SDefNoArgs("nabl2--bag2set",Call(SVar("map"),[CallNoArgs(SVar("Fst"))])),SDefNoArgs("nabl2--list2bag",Call(SVar("foldr"),[Build(NoAnnoList(List([]))),LRule(RuleNoCond(NoAnnoList(Tuple([Var("x"),Var("b")])),App(CallT(SVar("nabl2--bag-add"),[],[Var("x")]),Var("b"))))])),SDefNoArgs("nabl2--bag-union",Call(SVar("nabl2--mergefilter"),[CallNoArgs(SVar("union")),Seq(CallNoArgs(SVar("conc")),Where(Not(Match(NoAnnoList(List([]))))))])),SDefNoArgs("nabl2--bag-diff",Call(SVar("nabl2--mergefilter"),[CallNoArgs(SVar("Fst")),Seq(LRule(RuleNoCond(NoAnnoList(Tuple([Var("xs"),Var("ys")])),App(CallT(SVar("drop"),[],[App(CallNoArgs(SVar("length")),Var("ys"))]),Var("xs")))),Where(Not(Match(NoAnnoList(List([]))))))])),SDefNoArgs("nabl2--bag-isect",Call(SVar("nabl2--mergefilter"),[CallNoArgs(SVar("isect")),Seq(Call(SVar("try"),[Seq(TupleCong(CallNoArgs(SVar("length")),[CallNoArgs(SVar("length"))]),Seq(CallNoArgs(SVar("gt")),CallNoArgs(SVar("Swap"))))]),Seq(CallNoArgs(SVar("Fst")),Where(Not(Match(NoAnnoList(List([])))))))])),SDefNoArgs("nabl2--bag-dups",Seq(Call(SVar("filter"),[LRule(Rule(NoAnnoList(Tuple([Var("x"),Var("xs")])),Var("xs"),BA(CallNoArgs(SVar("gt")),NoAnnoList(Tuple([App(CallNoArgs(SVar("length")),Var("xs")),NoAnnoList(Int("1"))])))))]),CallNoArgs(SVar("concat"))))])])