Module("nabl2/runtime/pp",[Imports([Import("libstratego-gpp"),Import("libspoofax/editor/completion/interface"),Import("libspoofax/sdf/pp"),Import("nabl2/api"),ImportWildcard("pp/nabl2/shared/common"),ImportWildcard("pp/nabl2/shared/constraints"),ImportWildcard("nabl2/shared"),ImportWildcard("pp/nabl2/runtime/analysis"),ImportWildcard("pp/nabl2/runtime/common"),ImportWildcard("pp")]),Rules([SDefNoArgs("pp-NaBL2-CTerm",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CTerm"))])),SDefNoArgs("pp-NaBL2-Term",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-Term"))])),SDefNoArgs("pp-NaBL2-CGenArgs",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CGenArgs"))])),SDefNoArgs("pp-NaBL2-Constraint",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-Constraint"))])),SDefNoArgs("pp-NaBL2-CVar",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))])),SDefNoArgs("pp-NaBL2-PathLabel",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-PathLabel"))])),SDefNoArgs("pp-NaBL2-AnalysisResult",Call(SVar("pp-NaBL2"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-AnalysisResult"))]))]),Rules([SDefNoArgs("pp-NaBL2-objlangterm",Call(SVar("pp-NaBL2"),[LChoice(Call(SVar("catch-with"),[CallNoArgs(SVar("nabl2-prettyprint-hook")),Seq(Match(NoAnnoList(Tuple([Var("msg"),Var("trm"),Var("trace")]))),Seq(BA(CallT(SVar("warn"),[],[NoAnnoList(StringQuotation1("                 ",[QStr("Pretty printing with nabl2-prettyprint-hook failed: "),StringEscape1("                                                                     ",Var("msg"))]))]),Var("trm")),Seq(BA(Seq(CallNoArgs(SVar("reverse")),Call(SVar("list-loop"),[BA(CallNoArgs(SVar("fprintnl")),NoAnnoList(Tuple([NoAnnoList(Op("stderr",[])),NoAnnoList(List([NoAnnoList(Str("\"\\t\"")),RootApp(Id)]))])))])),Var("trace")),Fail)))]),CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CTerm")))])),SDefNoArgs("nabl2-prettyprint-term",LChoice(CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar")),LChoice(CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CList")),Seq(CallNoArgs(SVar("nabl2--actual-CTerm")),CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CTerm"))))))]),Rules([SDef("pp-H-list",[DefaultVarDec("pp")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDefT("pp-H-list",[DefaultVarDec("pp")],[DefaultVarDec("sep")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDef("pp-V-list",[DefaultVarDec("pp")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDefT("pp-V-list",[DefaultVarDec("pp")],[DefaultVarDec("sep")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDef("pp-HV-list",[DefaultVarDec("pp")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDefT("pp-HV-list",[DefaultVarDec("pp")],[DefaultVarDec("sep")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDef("pp-HZ-list",[DefaultVarDec("pp")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),SDefT("pp-HZ-list",[DefaultVarDec("pp")],[DefaultVarDec("sep")],CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CVar"))),RDefNoArgs("prettyprint-NaBL2-NaBL2-Name",Rule(Wld,NoAnnoList(List([NoAnnoList(Op("S",[NoAnnoList(Str("\"?\""))]))])),CallNoArgs(SVar("is-SDF-placeholder")))),SDefNoArgs("prettyprint-NaBL2-NaBL2-Int",Build(NoAnnoList(List([NoAnnoList(Op("S",[RootApp(Seq(CallNoArgs(SVar("is-int")),CallNoArgs(SVar("int-to-string"))))]))])))),SDefNoArgs("prettyprint-NaBL2-NaBL2-Real",Build(NoAnnoList(List([NoAnnoList(Op("S",[RootApp(Seq(CallNoArgs(SVar("is-real")),CallT(SVar("real-to-string"),[],[NoAnnoList(Int("2"))])))]))])))),RDef("prettyprint-NaBL2-NaBL2-List",[DefaultVarDec("pp")],Rule(Var("t"),NoAnnoList(List([NoAnnoList(Op("H",[NoAnnoList(List([NoAnnoList(Op("SOpt",[NoAnnoList(Op("HS",[])),NoAnnoList(Str("\"0\""))]))])),NoAnnoList(List([NoAnnoList(Op("S",[NoAnnoList(Str("\"[\""))])),Var("t'"),NoAnnoList(Op("S",[NoAnnoList(Str("\"]\""))]))]))]))])),[WhereClause(CallNoArgs(SVar("is-list"))),WithClause(Assign(Var("t'"),App(CallT(SVar("pp-H-list"),[CallNoArgs(SVar("pp"))],[NoAnnoList(Str("\",\""))]),Var("t"))))]))]),Rules([SDefNoArgs("prettyprint-NaBL2-primitive",Build(NoAnnoList(List([NoAnnoList(Op("S",[RootApp(Seq(CallNoArgs(SVar("is-int")),CallNoArgs(SVar("int-to-string"))))]))])))),SDefNoArgs("prettyprint-NaBL2-primitive",Build(NoAnnoList(List([NoAnnoList(Op("S",[RootApp(Seq(CallNoArgs(SVar("is-real")),CallT(SVar("real-to-string"),[],[NoAnnoList(Int("2"))])))]))])))),SDefNoArgs("prettyprint-NaBL2-primitive",Build(NoAnnoList(List([NoAnnoList(Op("S",[NoAnnoList(StringQuotation1("                                      ",[QStr("\""),StringEscape1("                                       ",RootApp(CallNoArgs(SVar("is-string")))),QStr("\"")]))]))])))),SDefNoArgs("prettyprint-NaBL2-NaBL2-Term",CallNoArgs(SVar("prettyprint-NaBL2-primitive"))),SDefNoArgs("prettyprint-NaBL2-NaBL2-Term",Call(SVar("prettyprint-NaBL2-NaBL2-List"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-Term"))])),RDefNoArgs("prettyprint-NaBL2-NaBL2-Term",Rule(NoAnnoList(Explode(Var("c"),Var(ListVar("a*")))),NoAnnoList(List([NoAnnoList(Op("H",[NoAnnoList(List([NoAnnoList(Op("SOpt",[NoAnnoList(Op("HS",[])),NoAnnoList(Str("\"0\""))]))])),NoAnnoList(List([NoAnnoList(Op("S",[Var("c")])),NoAnnoList(Op("S",[NoAnnoList(Str("\"(\""))])),Var("a'"),NoAnnoList(Op("S",[NoAnnoList(Str("\")\""))]))]))]))])),[WithClause(Assign(Var("a'"),App(CallT(SVar("pp-H-list"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-Term"))],[NoAnnoList(Str("\",\""))]),Var(ListVar("a*")))))]))]),Rules([SDefNoArgs("prettyprint-NaBL2-NaBL2-CTerm",CallNoArgs(SVar("prettyprint-NaBL2-primitive"))),SDefNoArgs("prettyprint-NaBL2-NaBL2-CTerm",Call(SVar("prettyprint-NaBL2-NaBL2-List"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CTerm"))])),RDefNoArgs("prettyprint-NaBL2-NaBL2-CTerm",Rule(NoAnnoList(Explode(Var("c"),Var(ListVar("a*")))),NoAnnoList(List([NoAnnoList(Op("H",[NoAnnoList(List([NoAnnoList(Op("SOpt",[NoAnnoList(Op("HS",[])),NoAnnoList(Str("\"0\""))]))])),NoAnnoList(List([NoAnnoList(Op("S",[Var("c")])),NoAnnoList(Op("S",[NoAnnoList(Str("\"(\""))])),Var("a'"),NoAnnoList(Op("S",[NoAnnoList(Str("\")\""))]))]))]))])),[WhereClause(Not(CallNoArgs(SVar("nabl2--actual-CTerm")))),WithClause(Assign(Var("a'"),App(CallT(SVar("pp-H-list"),[CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-CTerm"))],[NoAnnoList(Str("\",\""))]),Var(ListVar("a*")))))])),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-CVar"))),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-CList"))),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-CTerm"))),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-Occurrence"))),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-Scope"))),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-Names"))),SDefNoArgs("nabl2--actual-CTerm",CallNoArgs(SVar("is-NaBL2-NaBL2-SetExpr")))]),Rules([SDefNoArgs("prettyprint-NaBL2-api-term",CallNoArgs(SVar("nabl2-prettyprint-term"))),SDefT("prettyprint-NaBL2-api-term",[],[DefaultVarDec("sort")],Seq(Where(BA(CallT(SVar("string-starts-with"),[],[NoAnnoList(Str("\"NaBL2\""))]),Var("sort"))),CallNoArgs(SVar("nabl2-prettyprint-term")))),SDefNoArgs("prettyprint-NaBL2Occurrence",CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-Occurrence"))),SDefNoArgs("prettyprint-NaBL2Scope",CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-Scope"))),SDefNoArgs("prettyprint-NaBL2TermIndex",CallNoArgs(SVar("prettyprint-NaBL2-NaBL2-TermIndex")))])])